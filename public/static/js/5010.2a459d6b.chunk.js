"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5010],{84379:function(e,n,a){a.d(n,{Z:function(){return m}});var r=a(1413),t=a(21366),s=a(465),i=a(93298),c=a(42982),o=a(47313),d=a(38804),l=a(46417),u=function(e,n){var a=n-e+1;return Array.from({length:a},(function(n,a){return a+e}))},f=function(e){var n=e.search,a=e.pagination,t=e.onChange,s=e.siblingCount,i=void 0===s?1:s,f=e.className,m=function(e){var n=e.totalCount,a=e.pageSize,r=e.siblingCount,t=void 0===r?1:r,s=e.currentPage;return(0,o.useMemo)((function(){var e=Math.ceil(n/a);if(t+5>=e)return u(1,e);var r=Math.max(s-t,1),i=Math.min(s+t,e),o=r>2,d=i<e-2,l=1,f=e;if(!o&&d){var m=u(1,3+2*t);return[].concat((0,c.Z)(m),["DOTS",e])}if(o&&!d){var h=u(e-(3+2*t)+1,e);return[l,"DOTS"].concat((0,c.Z)(h))}if(o&&d){var p=u(r,i);return[l,"DOTS"].concat((0,c.Z)(p),["DOTS",f])}}),[n,a,t,s])}({currentPage:a.page,totalCount:a.totalCount,pageSize:a.pageSize,siblingCount:i});if(0===a.page||m.length<1)return null;var h=m[m.length-1];return(0,l.jsxs)(d.Z,{className:f,children:[(0,l.jsx)(d.Z.First,{onClick:function(){t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:1})})}}),(0,l.jsx)(d.Z.Prev,{onClick:function(){a.page>1&&t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:a.page-1})})}}),m.map((function(e,s){return"DOTS"===e?(0,l.jsx)(d.Z.Ellipsis,{},s):a.page===e?(0,l.jsx)(d.Z.Item,{active:!0,onClick:function(){return t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:e})})},children:e},s):(0,l.jsx)(d.Z.Item,{onClick:function(){return t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:e})})},children:e},s)})),(0,l.jsx)(d.Z.Next,{onClick:function(){a.page<h&&t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:a.page+1})})}}),(0,l.jsx)(d.Z.Last,{onClick:function(){t({search:n,pagination:(0,r.Z)((0,r.Z)({},a),{},{page:h})})}})]})},m=function(e){var n=e.pageItems,a=void 0===n?[5,10,20,50,100]:n,c=e.columns,o=e.data,d=void 0===o?[]:o,u=e.options,m=void 0===u?{responsive:!0,bordered:!0,center:!0}:u,h=e.pagination,p=void 0===h?{page:1,totalCount:10,pageSize:10}:h,v=e.sort,x=e.search,g=e.onChange,Z=e.emptyText,b=void 0===Z?"Empty data":Z,j=e.onRow,y=void 0===j?function(){}:j;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,l.jsx)(t.Z.Select,{size:"sm",style:{maxWidth:100},defaultValue:p.pageSize,onChange:function(e){return g({search:x,pagination:(0,r.Z)((0,r.Z)({},p),{},{pageSize:Number(e.target.value),page:1})})},children:a.map((function(e,n){return(0,l.jsx)("option",{value:e,children:e},n)}))}),(0,l.jsx)(t.Z.Control,{size:"sm",type:"text",placeholder:"Search...",style:{maxWidth:200},onKeyUp:function(e){return function(e){13===e.keyCode&&g({search:e.target.value,pagination:(0,r.Z)((0,r.Z)({},p),{},{page:1})})}(e)}})]}),(0,l.jsxs)(s.Z,{className:"datatable "+(m.center?"text-center":""),responsive:m.responsive,bordered:m.bordered,hover:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:c.map((function(e,n){return(0,l.jsxs)("th",{style:{width:e.width?e.width:"auto"},children:[e.name,!1!==e.sortable&&(0,l.jsxs)(i.Z,{className:"sort-btn",size:"sm",variant:"link",onClick:function(){return function(e,n){var a="asc";void 0===n?a="asc":"asc"===n.dir?a="desc":"desc"===n.dir&&(a="asc"),g({search:x,pagination:p,sort:{key:e,dir:a}})}(e.key,v)},children:[("undefined"===typeof v||v.key!==e.key)&&(0,l.jsx)("i",{className:"fa fa-arrows-v"}),"undefined"!==typeof v&&v.key===e.key&&"asc"===v.dir&&(0,l.jsx)("i",{className:"fa fa-long-arrow-up"}),"undefined"!==typeof v&&v.key===e.key&&"desc"===v.dir&&(0,l.jsx)("i",{className:"fa fa-long-arrow-down"})]})]},n)}))})}),(0,l.jsx)("tbody",{children:d.length?d.map((function(e,n){return(0,l.jsx)("tr",{onClick:function(){return y(e._id)},children:c.map((function(a,r){return a.render?(0,l.jsx)("td",{children:a.render(e,n)},r):(0,l.jsx)("td",{children:e[a.key]},r)}))},n)})):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:c.length,className:"text-center text-danger",children:b})})})]}),(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,l.jsx)(f,{search:x,pagination:p,onChange:g})})]})}},85010:function(e,n,a){a.r(n);var r=a(74165),t=a(1413),s=a(15861),i=a(70885),c=a(47313),o=a(93298),d=a(65832),l=a(27998),u=a(2135),f=a(34491),m=a(84379),h=a(24751),p=a(46417);n.default=function(){var e=(0,c.useRef)(null),n=(0,c.useState)(0),a=(0,i.Z)(n,2),v=a[0],x=a[1],g=(0,c.useState)([]),Z=(0,i.Z)(g,2),b=Z[0],j=Z[1],y=(0,c.useState)(),N=(0,i.Z)(y,2),k=N[0],C=N[1],w=(0,c.useState)(""),S=(0,i.Z)(w,2),P=S[0],z=S[1],T=(0,c.useState)({page:1,totalCount:0,pageSize:10}),D=(0,i.Z)(T,2),E=D[0],L=D[1],I=(0,c.useState)({}),O=(0,i.Z)(I,2),R=O[0],M=O[1],A=(0,c.useState)(!1),H=(0,i.Z)(A,2),_=H[0],F=H[1],B=[{key:"no",name:"No",width:"10%",render:function(e,n){return n+1}},{key:"no",name:"Order",width:"10%",render:function(e,n){return e.no}},{key:"name",name:"Name",width:"15%"},{key:"year",name:"Year",render:function(e,n){return e.subject.year.name},width:"15%"},{key:"subject",name:"Subject",render:function(e,n){return e.subject.name},width:"15%"},{key:"description",name:"Description",width:"20%",render:function(e,n){return(0,p.jsx)("div",{className:"topic-description",dangerouslySetInnerHTML:{__html:e.description}})},sortable:!1},{key:"action",name:"Action",width:"15%",render:function(e,n){return(0,p.jsxs)("div",{children:[(0,p.jsx)(u.Link,{className:"btn btn-sm btn-outline-success me-1",to:"/admin/modules/edit/".concat(e._id),children:(0,p.jsx)("i",{className:"fa fa-edit"})}),(0,p.jsx)(o.Z,{variant:"btn btn-sm btn-outline-danger",size:"sm",onClick:function(){return K(e)},children:(0,p.jsx)("i",{className:"fa fa-trash"})})]})},sortable:!1}];(0,c.useEffect)((function(){(0,s.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("admin/modules",{params:{search:P,length:E.pageSize,page:E.page,sortKey:k?k.key:"",sortDir:k?k.dir:""}});case 2:n=e.sent,a=n.data,j(a.data),L((0,t.Z)((0,t.Z)({},E),{},{totalCount:a.totalCount}));case 6:case"end":return e.stop()}}),e)})))()}),[v]);var K=function(n){M(n),F(!0),setTimeout((function(){e.current.focus()}),500)},W=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.delete("admin/modules/".concat(R._id));case 2:n=e.sent,(a=n.data).status?(x(!v),F(!1),f.Am.success(a.msg)):f.Am.error(a.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(d.Z,{children:[(0,p.jsx)(d.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,p.jsxs)(d.Z.Title,{as:"h1",bsPrefix:"card-title text-light mb-0",children:["Modules management",(0,p.jsxs)(u.Link,{to:"/admin/modules/create",className:"btn btn-primary btn-sm float-end",children:[(0,p.jsx)("i",{className:"fa fa-plus"})," New module"]})]})}),(0,p.jsx)(d.Z.Body,{children:(0,p.jsx)(m.Z,{columns:B,data:b,sort:k,search:P,pagination:E,onChange:function(e){var n=e.search,a=e.pagination,r=e.sort;C(r),z(n),L(a),x(!v)}})}),(0,p.jsxs)(l.Tk,{visible:_,onClose:function(){return F(!1)},children:[(0,p.jsx)(l.p0,{children:(0,p.jsx)(l.fl,{children:(0,p.jsx)("h1",{children:"Are you sure?"})})}),(0,p.jsx)(l.sD,{children:"Deleting is permanent and cannot be undone."}),(0,p.jsxs)(l.Ym,{children:[(0,p.jsxs)(l.u5,{color:"primary",ref:e,onClick:W,children:[(0,p.jsx)("i",{className:"fa fa-thumbs-up"})," Delete"]}),(0,p.jsxs)(l.u5,{color:"danger",onClick:function(){return F(!1)},children:[(0,p.jsx)("i",{className:"fa fa-thumbs-down"})," Cancel"]})]})]})]})}},65832:function(e,n,a){a.d(n,{Z:function(){return T}});var r=a(1413),t=a(45987),s=a(46123),i=a.n(s),c=a(47313),o=a(68524),d=a(28864),l=a(96205),u=a(46417),f=["bsPrefix","className","variant","as"],m=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.variant,d=e.as,l=void 0===d?"img":d,m=(0,t.Z)(e,f),h=(0,o.vE)(a,"card-img");return(0,u.jsx)(l,(0,r.Z)({ref:n,className:i()(c?"".concat(h,"-").concat(c):h,s)},m))}));m.displayName="CardImg";var h=m,p=a(15614),v=["bsPrefix","className","as"],x=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,d=e.as,l=void 0===d?"div":d,f=(0,t.Z)(e,v),m=(0,o.vE)(a,"card-header"),h=(0,c.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,u.jsx)(p.Z.Provider,{value:h,children:(0,u.jsx)(l,(0,r.Z)((0,r.Z)({ref:n},f),{},{className:i()(s,m)}))})}));x.displayName="CardHeader";var g=x,Z=["bsPrefix","className","bg","text","border","body","children","as"],b=(0,l.Z)("h5"),j=(0,l.Z)("h6"),y=(0,d.Z)("card-body"),N=(0,d.Z)("card-title",{Component:b}),k=(0,d.Z)("card-subtitle",{Component:j}),C=(0,d.Z)("card-link",{Component:"a"}),w=(0,d.Z)("card-text",{Component:"p"}),S=(0,d.Z)("card-footer"),P=(0,d.Z)("card-img-overlay"),z=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.bg,d=e.text,l=e.border,f=e.body,m=e.children,h=e.as,p=void 0===h?"div":h,v=(0,t.Z)(e,Z),x=(0,o.vE)(a,"card");return(0,u.jsx)(p,(0,r.Z)((0,r.Z)({ref:n},v),{},{className:i()(s,x,c&&"bg-".concat(c),d&&"text-".concat(d),l&&"border-".concat(l)),children:f?(0,u.jsx)(y,{children:m}):m}))}));z.displayName="Card",z.defaultProps={body:!1};var T=Object.assign(z,{Img:h,Title:N,Subtitle:k,Body:y,Link:C,Text:w,Header:g,Footer:S,ImgOverlay:P})},38804:function(e,n,a){a.d(n,{Z:function(){return N}});var r=a(1413),t=a(45987),s=a(46123),i=a.n(s),c=a(47313),o=a(68524),d=a(48091),l=a(46417),u=["active","disabled","className","style","activeLabel","children"],f=["children"],m=c.forwardRef((function(e,n){var a=e.active,s=e.disabled,c=e.className,o=e.style,f=e.activeLabel,m=e.children,h=(0,t.Z)(e,u),p=a||s?"span":d.Z;return(0,l.jsx)("li",{ref:n,style:o,className:i()(c,"page-item",{active:a,disabled:s}),children:(0,l.jsxs)(p,(0,r.Z)((0,r.Z)({className:"page-link"},h),{},{children:[m,a&&f&&(0,l.jsx)("span",{className:"visually-hidden",children:f})]}))})}));m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var h=m;function p(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=c.forwardRef((function(e,s){var i=e.children,c=(0,t.Z)(e,f);return(0,l.jsxs)(m,(0,r.Z)((0,r.Z)({},c),{},{ref:s,children:[(0,l.jsx)("span",{"aria-hidden":"true",children:i||n}),(0,l.jsx)("span",{className:"visually-hidden",children:a})]}))}));return s.displayName=e,s}var v=p("First","\xab"),x=p("Prev","\u2039","Previous"),g=p("Ellipsis","\u2026","More"),Z=p("Next","\u203a"),b=p("Last","\xbb"),j=["bsPrefix","className","size"],y=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.size,d=(0,t.Z)(e,j),u=(0,o.vE)(a,"pagination");return(0,l.jsx)("ul",(0,r.Z)((0,r.Z)({ref:n},d),{},{className:i()(s,u,c&&"".concat(u,"-").concat(c))}))}));y.displayName="Pagination";var N=Object.assign(y,{First:v,Prev:x,Ellipsis:g,Item:h,Next:Z,Last:b})},465:function(e,n,a){var r=a(1413),t=a(45987),s=a(46123),i=a.n(s),c=a(47313),o=a(68524),d=a(46417),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.striped,u=e.bordered,f=e.borderless,m=e.hover,h=e.size,p=e.variant,v=e.responsive,x=(0,t.Z)(e,l),g=(0,o.vE)(a,"table"),Z=i()(s,g,p&&"".concat(g,"-").concat(p),h&&"".concat(g,"-").concat(h),c&&"".concat(g,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),u&&"".concat(g,"-bordered"),f&&"".concat(g,"-borderless"),m&&"".concat(g,"-hover")),b=(0,d.jsx)("table",(0,r.Z)((0,r.Z)({},x),{},{className:Z,ref:n}));if(v){var j="".concat(g,"-responsive");return"string"===typeof v&&(j="".concat(j,"-").concat(v)),(0,d.jsx)("div",{className:j,children:b})}return b}));n.Z=u}}]);