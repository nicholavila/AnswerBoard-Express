"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7817],{84379:function(e,n,a){a.d(n,{Z:function(){return m}});var t=a(1413),r=a(21366),s=a(465),i=a(93298),c=a(42982),o=a(47313),u=a(38804),d=a(46417),l=function(e,n){var a=n-e+1;return Array.from({length:a},(function(n,a){return a+e}))},f=function(e){var n=e.search,a=e.pagination,r=e.onChange,s=e.siblingCount,i=void 0===s?1:s,f=e.className,m=function(e){var n=e.totalCount,a=e.pageSize,t=e.siblingCount,r=void 0===t?1:t,s=e.currentPage;return(0,o.useMemo)((function(){var e=Math.ceil(n/a);if(r+5>=e)return l(1,e);var t=Math.max(s-r,1),i=Math.min(s+r,e),o=t>2,u=i<e-2,d=1,f=e;if(!o&&u){var m=l(1,3+2*r);return[].concat((0,c.Z)(m),["DOTS",e])}if(o&&!u){var p=l(e-(3+2*r)+1,e);return[d,"DOTS"].concat((0,c.Z)(p))}if(o&&u){var h=l(t,i);return[d,"DOTS"].concat((0,c.Z)(h),["DOTS",f])}}),[n,a,r,s])}({currentPage:a.page,totalCount:a.totalCount,pageSize:a.pageSize,siblingCount:i});if(0===a.page||m.length<1)return null;var p=m[m.length-1];return(0,d.jsxs)(u.Z,{className:f,children:[(0,d.jsx)(u.Z.First,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:1})})}}),(0,d.jsx)(u.Z.Prev,{onClick:function(){a.page>1&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page-1})})}}),m.map((function(e,s){return"DOTS"===e?(0,d.jsx)(u.Z.Ellipsis,{},s):a.page===e?(0,d.jsx)(u.Z.Item,{active:!0,onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s):(0,d.jsx)(u.Z.Item,{onClick:function(){return r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:e})})},children:e},s)})),(0,d.jsx)(u.Z.Next,{onClick:function(){a.page<p&&r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:a.page+1})})}}),(0,d.jsx)(u.Z.Last,{onClick:function(){r({search:n,pagination:(0,t.Z)((0,t.Z)({},a),{},{page:p})})}})]})},m=function(e){var n=e.pageItems,a=void 0===n?[5,10,20,50,100]:n,c=e.columns,o=e.data,u=void 0===o?[]:o,l=e.options,m=void 0===l?{responsive:!0,bordered:!0,center:!0}:l,p=e.pagination,h=void 0===p?{page:1,totalCount:10,pageSize:10}:p,x=e.sort,Z=e.search,g=e.onChange,v=e.emptyText,j=void 0===v?"Empty data":v,b=e.onRow,y=void 0===b?function(){}:b;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,d.jsx)(r.Z.Select,{size:"sm",style:{maxWidth:100},defaultValue:h.pageSize,onChange:function(e){return g({search:Z,pagination:(0,t.Z)((0,t.Z)({},h),{},{pageSize:Number(e.target.value),page:1})})},children:a.map((function(e,n){return(0,d.jsx)("option",{value:e,children:e},n)}))}),(0,d.jsx)(r.Z.Control,{size:"sm",type:"text",placeholder:"Search...",style:{maxWidth:200},onKeyUp:function(e){return function(e){13===e.keyCode&&g({search:e.target.value,pagination:(0,t.Z)((0,t.Z)({},h),{},{page:1})})}(e)}})]}),(0,d.jsxs)(s.Z,{className:"datatable "+(m.center?"text-center":""),responsive:m.responsive,bordered:m.bordered,hover:!0,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:c.map((function(e,n){return(0,d.jsxs)("th",{style:{width:e.width?e.width:"auto"},children:[e.name,!1!==e.sortable&&(0,d.jsxs)(i.Z,{className:"sort-btn",size:"sm",variant:"link",onClick:function(){return function(e,n){var a="asc";void 0===n?a="asc":"asc"===n.dir?a="desc":"desc"===n.dir&&(a="asc"),g({search:Z,pagination:h,sort:{key:e,dir:a}})}(e.key,x)},children:[("undefined"===typeof x||x.key!==e.key)&&(0,d.jsx)("i",{className:"fa fa-arrows-v"}),"undefined"!==typeof x&&x.key===e.key&&"asc"===x.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-up"}),"undefined"!==typeof x&&x.key===e.key&&"desc"===x.dir&&(0,d.jsx)("i",{className:"fa fa-long-arrow-down"})]})]},n)}))})}),(0,d.jsx)("tbody",{children:u.length?u.map((function(e,n){return(0,d.jsx)("tr",{onClick:function(){return y(e._id)},children:c.map((function(a,t){return a.render?(0,d.jsx)("td",{children:a.render(e,n)},t):(0,d.jsx)("td",{children:e[a.key]},t)}))},n)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:c.length,className:"text-center text-danger",children:j})})})]}),(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,d.jsx)(f,{search:Z,pagination:h,onChange:g})})]})}},97817:function(e,n,a){a.r(n);var t=a(74165),r=a(1413),s=a(15861),i=a(70885),c=a(47313),o=a(24751),u=a(93298),d=a(65832),l=a(41965),f=a(27998),m=a(84379),p=a(28745),h=a(34491),x=a(58467),Z=a(46417);n.default=function(){var e=(0,c.useRef)(null),n=(0,c.useState)(0),a=(0,i.Z)(n,2),g=a[0],v=a[1],j=(0,x.s0)(),b=(0,c.useState)([]),y=(0,i.Z)(b,2),k=y[0],C=y[1],N=(0,c.useState)(""),w=(0,i.Z)(N,2),S=w[0],z=w[1],P=(0,c.useState)(),T=(0,i.Z)(P,2),D=T[0],A=T[1],E=(0,c.useState)({page:1,totalCount:0,pageSize:10}),O=(0,i.Z)(E,2),H=O[0],I=O[1],R=(0,c.useState)(0),_=(0,i.Z)(R,2),B=_[0],M=_[1],F=(0,c.useState)(1),L=(0,i.Z)(F,2),W=L[0],K=(L[1],(0,c.useState)(!1)),U=(0,i.Z)(K,2),Y=U[0],V=U[1],q=(0,c.useState)(!1),G=(0,i.Z)(q,2),J=G[0],Q=G[1],X=[{key:"_id",name:"No",width:65,render:function(e,n){return n+1}},{key:"firstName",name:"First name"},{key:"lastName",name:"Last name"},{key:"email",name:"Email"},{key:"action",name:"Action",render:function(e){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(u.Z,{variant:"outline-success","data-tip":"Edit",size:"sm",className:"me-1",onClick:function(){return j("/admin/users/".concat(e._id))},children:(0,Z.jsx)("i",{className:"fa fa-edit"})},"1"),(0,Z.jsx)(u.Z,{variant:"outline-primary","data-tip":e.status?"Disable":"Enable",size:"sm",className:"me-1",onClick:function(){ae(e._id)},children:e.status?(0,Z.jsx)("i",{className:"fa fa-thumbs-up"}):(0,Z.jsx)("i",{className:"fa fa-thumbs-down"})},"2"),(0,Z.jsx)(u.Z,{variant:"outline-danger","data-tip":"Delete",size:"sm",onClick:function(){return ee(e._id)},children:(0,Z.jsx)("i",{className:"fa fa-trash"})},"3"),(0,Z.jsx)(p.Z,{})]})},sortable:!1}];(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("admin/users",{params:{search:S,length:H.pageSize,page:H.page,sortKey:D?D.key:"",sortDir:D?D.dir:""}});case 2:n=e.sent,a=n.data,C(a.data),I((0,r.Z)((0,r.Z)({},H),{},{totalCount:a.totalCount}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]);var $=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("admin/users/".concat(B),{status:W});case 2:n=e.sent,(a=n.data).success?(h.Am.success(a.msg),v(!g),V(!1)):h.Am.error(a.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(n){M(n),Q(!0),setTimeout((function(){e.current.focus()}),500)},ne=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var a,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("admin/users/".concat(B));case 2:a=e.sent,(r=a.data).status&&(h.Am.success(r.msg),v(!g),Q(!1));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var a,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("/admin/users/login-mng/".concat(n));case 2:(a=e.sent).data.status?(h.Am.success(a.data.msg),r=k.map((function(e,a){return e._id===n?(e.status=!e.status,e):e})),C(r)):h.Am.error(a.data.msg,"Warning!");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(d.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,Z.jsx)(d.Z.Title,{as:"h1",bsPrefix:"mb-0 card-title text-light",style:{fontSize:24},children:"Users management"})}),(0,Z.jsx)(d.Z.Body,{children:(0,Z.jsx)(m.Z,{columns:X,data:k,sort:D,search:S,pagination:H,onChange:function(e){var n=e.search,a=e.pagination,t=e.sort;A(t),z(n),I(a),v(!g)}})}),(0,Z.jsxs)(l.Z,{show:Y,onHide:function(){return V(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,Z.jsx)(l.Z.Header,{closeButton:!0,children:(0,Z.jsx)(l.Z.Title,{children:"Are you sure?"})}),(0,Z.jsx)(l.Z.Body,{children:"Are you really going to change the user's status?"}),(0,Z.jsxs)(l.Z.Footer,{children:[(0,Z.jsx)(u.Z,{variant:"primary",onClick:function(){return $()},children:"Yes"}),(0,Z.jsx)(u.Z,{variant:"danger",onClick:function(){return V(!1)},children:"No"})]})]}),(0,Z.jsxs)(f.Tk,{visible:J,onClose:function(){return Q(!1)},children:[(0,Z.jsx)(f.p0,{children:(0,Z.jsx)(f.fl,{children:(0,Z.jsx)("h1",{children:"Are you sure?"})})}),(0,Z.jsx)(f.sD,{children:"Deleting is permanent and cannot be undone."}),(0,Z.jsxs)(f.Ym,{children:[(0,Z.jsxs)(f.u5,{color:"primary",ref:e,onClick:function(){return ne()},children:[(0,Z.jsx)("i",{className:"fa fa-thumbs-up"})," Delete"]}),(0,Z.jsxs)(f.u5,{color:"danger",onClick:function(){return Q(!1)},children:[(0,Z.jsx)("i",{className:"fa fa-thumbs-down"})," Cancel"]})]})]})]})}},65832:function(e,n,a){a.d(n,{Z:function(){return T}});var t=a(1413),r=a(45987),s=a(46123),i=a.n(s),c=a(47313),o=a(68524),u=a(28864),d=a(96205),l=a(46417),f=["bsPrefix","className","variant","as"],m=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.variant,u=e.as,d=void 0===u?"img":u,m=(0,r.Z)(e,f),p=(0,o.vE)(a,"card-img");return(0,l.jsx)(d,(0,t.Z)({ref:n,className:i()(c?"".concat(p,"-").concat(c):p,s)},m))}));m.displayName="CardImg";var p=m,h=a(15614),x=["bsPrefix","className","as"],Z=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,u=e.as,d=void 0===u?"div":u,f=(0,r.Z)(e,x),m=(0,o.vE)(a,"card-header"),p=(0,c.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,l.jsx)(h.Z.Provider,{value:p,children:(0,l.jsx)(d,(0,t.Z)((0,t.Z)({ref:n},f),{},{className:i()(s,m)}))})}));Z.displayName="CardHeader";var g=Z,v=["bsPrefix","className","bg","text","border","body","children","as"],j=(0,d.Z)("h5"),b=(0,d.Z)("h6"),y=(0,u.Z)("card-body"),k=(0,u.Z)("card-title",{Component:j}),C=(0,u.Z)("card-subtitle",{Component:b}),N=(0,u.Z)("card-link",{Component:"a"}),w=(0,u.Z)("card-text",{Component:"p"}),S=(0,u.Z)("card-footer"),z=(0,u.Z)("card-img-overlay"),P=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.bg,u=e.text,d=e.border,f=e.body,m=e.children,p=e.as,h=void 0===p?"div":p,x=(0,r.Z)(e,v),Z=(0,o.vE)(a,"card");return(0,l.jsx)(h,(0,t.Z)((0,t.Z)({ref:n},x),{},{className:i()(s,Z,c&&"bg-".concat(c),u&&"text-".concat(u),d&&"border-".concat(d)),children:f?(0,l.jsx)(y,{children:m}):m}))}));P.displayName="Card",P.defaultProps={body:!1};var T=Object.assign(P,{Img:p,Title:k,Subtitle:C,Body:y,Link:N,Text:w,Header:g,Footer:S,ImgOverlay:z})},465:function(e,n,a){var t=a(1413),r=a(45987),s=a(46123),i=a.n(s),c=a(47313),o=a(68524),u=a(46417),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],l=c.forwardRef((function(e,n){var a=e.bsPrefix,s=e.className,c=e.striped,l=e.bordered,f=e.borderless,m=e.hover,p=e.size,h=e.variant,x=e.responsive,Z=(0,r.Z)(e,d),g=(0,o.vE)(a,"table"),v=i()(s,g,h&&"".concat(g,"-").concat(h),p&&"".concat(g,"-").concat(p),c&&"".concat(g,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),l&&"".concat(g,"-bordered"),f&&"".concat(g,"-borderless"),m&&"".concat(g,"-hover")),j=(0,u.jsx)("table",(0,t.Z)((0,t.Z)({},Z),{},{className:v,ref:n}));if(x){var b="".concat(g,"-responsive");return"string"===typeof x&&(b="".concat(b,"-").concat(x)),(0,u.jsx)("div",{className:b,children:j})}return j}));n.Z=l}}]);