"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6762],{97991:function(e,n,t){t.r(n);var a=t(74165),r=t(1413),s=t(15861),o=t(70885),i=t(47313),l=t(65832),c=t(21366),u=t(93298),d=t(7410),m=t(3463),f=t(24751),b=t(34491),v=t(58467),h=t(46417);n.default=function(){var e=(0,v.s0)(),n=(0,i.useState)([]),t=(0,o.Z)(n,2),p=t[0],Z=t[1],j=(0,i.useState)([]),x=(0,o.Z)(j,2),g=x[0],y=x[1],N=(0,i.useState)([]),C=(0,o.Z)(N,2),P=C[0],k=C[1],w=(0,i.useState)({no:"",year:"",subject:"",module:"",name:"",description:""}),S=(0,o.Z)(w,2),_=S[0],B=S[1],I=m.Ry({no:m.Rx().typeError("Must be a number.").required("Please enter an order.").test("","Must be between 1 and 99.",(function(e){return e||(e=0),!(e<1||e>99)})),subject:m.Z_("Choose a subject.").required("Subject is required."),module:m.Z_("Choose a module").required("Module is required."),name:m.Z_("Enter a topic name.").test("len","Must be less than 64 characters.",(function(e){return e||(e=""),e.length<64})).required("Please enter a name.")});(0,i.useEffect)((function(){(0,s.Z)((0,a.Z)().mark((function e(){var n,t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("admin/years/get-all-populate");case 2:n=e.sent,t=n.data,s=t.length>0&&t[0].subjects.length>0&&t[0].subjects[0].modules.length>0&&t[0].subjects[0].modules[0].topics.length>0?t[0].subjects[0].modules[0].topics[0].no:0,Z(t),y(t.length?t[0].subjects:[]),k(t.length?t[0].subjects[0].modules:[]),B((0,r.Z)((0,r.Z)({},_),{},{year:t.length?t[0]._id:"",subject:t.length&&t[0].subjects.length?t[0].subjects[0]._id:"",module:t.length&&t[0].subjects.length&&t[0].subjects[0].modules.length?t[0].subjects[0].modules[0]._id:"",no:s+1}));case 9:case"end":return e.stop()}}),e)})))()}),[]);var O=function(e){var n,t=p.findIndex((function(n){return n._id===e.target.value}));n=p.length>t&&p[t].subjects.length>0&&p[t].subjects[0].modules.length>0&&p[t].subjects[0].modules[0].topics.length>0?p[t].subjects[0].modules[0].topics[0].no:0,y(p[t].subjects),k(p[t].subjects.length?p[t].subjects[0].modules:[]),B((0,r.Z)((0,r.Z)({},_),{},{year:e.target.value,subject:p[t].subjects.length?p[t].subjects[0]._id:"",module:p[t].subjects.length&&p[t].subjects[0].modules.length?p[t].subjects[0].modules[0]._id:"",no:n+1}))},R=function(e){var n,t=g.findIndex((function(n){return n._id===e.target.value}));n=g.length>t&&g[t].modules.length>0&&g[t].modules[0].topics.length>0?g[t].modules[0].topics[0].no:0,k(g[t].modules),B((0,r.Z)((0,r.Z)({},_),{},{subject:e.target.value,module:g[t].modules.length?g[t].modules[0]._id:"",no:n+1}))},F=function(e){var n,t=P.findIndex((function(n){return n._id===e.target.value}));n=P.length>t&&P[t].topics.length>0?P[t].topics[0].no:0,B((0,r.Z)((0,r.Z)({},_),{},{module:e.target.value,no:n+1}))},E=function(){var n=(0,s.Z)((0,a.Z)().mark((function n(t,r){var s,o,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=r.resetForm,n.next=3,f.Z.post("admin/topics",t);case 3:o=n.sent,(i=o.data).status?(b.Am.success(i.msg),s(),e("/admin/topics")):b.Am.error(i.msg);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(l.Z.Header,{style:{background:"#3c4b64"},bsPrefix:"card-header py-3",children:(0,h.jsx)(l.Z.Title,{bsPrefix:"card-title mb-0 text-light",as:"h1",children:"Create topic"})}),(0,h.jsx)(l.Z.Body,{children:(0,h.jsx)(d.J9,{validationSchema:I,validateOnChange:!1,validateOnBlur:!1,onSubmit:E,initialValues:_,enableReinitialize:!0,children:function(e){var n=e.handleSubmit,t=e.handleChange,a=e.handleBlur,r=e.values,s=e.touched,o=e.errors;return(0,h.jsxs)(c.Z,{noValidate:!0,onSubmit:n,children:[(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Year:"}),(0,h.jsx)(c.Z.Select,{name:"year",value:r.year,onChange:O,onBlur:a,touched:s,isInvalid:!!o.year,children:p.map((function(e,n){return(0,h.jsx)("option",{value:e._id,children:e.name},n)}))}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.year})]}),(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Subject:"}),(0,h.jsx)(c.Z.Select,{name:"subject",value:r.subject,onChange:R,onBlur:a,touched:s,isInvalid:!!o.subject,children:g.map((function(e,n){return(0,h.jsx)("option",{value:e._id,children:e.name},n)}))}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.subject})]}),(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Module:"}),(0,h.jsx)(c.Z.Select,{name:"module",value:r.module,onChange:F,onBlur:a,touched:s,isInvalid:!!o.module,children:P.map((function(e,n){return(0,h.jsx)("option",{value:e._id,children:e.name},n)}))}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.module})]}),(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Order:"}),(0,h.jsx)(c.Z.Control,{type:"text",placeholder:"Please enter a topic order.",name:"no",onChange:t,onBlur:a,value:r.no,touched:s,isInvalid:!!o.no}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.no})]}),(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Topic:"}),(0,h.jsx)(c.Z.Control,{type:"text",placeholder:"Please enter a topic name.",name:"name",onChange:t,onBlur:a,value:r.name,touched:s,isInvalid:!!o.name}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.name})]}),(0,h.jsxs)(c.Z.Group,{className:"mb-3",children:[(0,h.jsx)(c.Z.Label,{children:"Description:"}),(0,h.jsx)(c.Z.Control,{as:"textarea",placeholder:"Please enter a topic description.",name:"description",onChange:t,onBlur:a,value:r.description,rows:10})]}),(0,h.jsxs)(u.Z,{type:"submit",variant:"primary",className:"float-end",children:[(0,h.jsx)("i",{className:"fa fa-save"})," Save"]})]})}})})]})}},16184:function(e,n,t){t.d(n,{FT:function(){return i}});var a=t(70885),r=t(47313),s=t(46417),o=["as","disabled"];function i(e){var n=e.tagName,t=e.disabled,a=e.href,r=e.target,s=e.rel,o=e.role,i=e.onClick,l=e.tabIndex,c=void 0===l?0:l,u=e.type;n||(n=null!=a||null!=r||null!=s?"a":"button");var d={tagName:n};if("button"===n)return[{type:u||"button",disabled:t},d];var m=function(e){(t||"a"===n&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),t?e.stopPropagation():null==i||i(e)};return"a"===n&&(a||(a="#"),t&&(a=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:t?void 0:c,href:a,target:"a"===n?r:void 0,"aria-disabled":t||void 0,rel:"a"===n?s:void 0,onClick:m,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),m(e))}},d]}var l=r.forwardRef((function(e,n){var t=e.as,r=e.disabled,l=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,o),c=i(Object.assign({tagName:t,disabled:r},l)),u=(0,a.Z)(c,2),d=u[0],m=u[1].tagName;return(0,s.jsx)(m,Object.assign({},l,d,{ref:n}))}));l.displayName="Button",n.ZP=l},93298:function(e,n,t){var a=t(1413),r=t(70885),s=t(45987),o=t(46123),i=t.n(o),l=t(47313),c=t(16184),u=t(68524),d=t(46417),m=["as","bsPrefix","variant","size","active","className"],f=l.forwardRef((function(e,n){var t=e.as,o=e.bsPrefix,l=e.variant,f=e.size,b=e.active,v=e.className,h=(0,s.Z)(e,m),p=(0,u.vE)(o,"btn"),Z=(0,c.FT)((0,a.Z)({tagName:t},h)),j=(0,r.Z)(Z,2),x=j[0],g=j[1].tagName;return(0,d.jsx)(g,(0,a.Z)((0,a.Z)((0,a.Z)({},x),h),{},{ref:n,className:i()(v,p,b&&"active",l&&"".concat(p,"-").concat(l),f&&"".concat(p,"-").concat(f),h.href&&h.disabled&&"disabled")}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1},n.Z=f},65832:function(e,n,t){t.d(n,{Z:function(){return B}});var a=t(1413),r=t(45987),s=t(46123),o=t.n(s),i=t(47313),l=t(68524),c=t(28864),u=t(96205),d=t(46417),m=["bsPrefix","className","variant","as"],f=i.forwardRef((function(e,n){var t=e.bsPrefix,s=e.className,i=e.variant,c=e.as,u=void 0===c?"img":c,f=(0,r.Z)(e,m),b=(0,l.vE)(t,"card-img");return(0,d.jsx)(u,(0,a.Z)({ref:n,className:o()(i?"".concat(b,"-").concat(i):b,s)},f))}));f.displayName="CardImg";var b=f,v=t(15614),h=["bsPrefix","className","as"],p=i.forwardRef((function(e,n){var t=e.bsPrefix,s=e.className,c=e.as,u=void 0===c?"div":c,m=(0,r.Z)(e,h),f=(0,l.vE)(t,"card-header"),b=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,d.jsx)(v.Z.Provider,{value:b,children:(0,d.jsx)(u,(0,a.Z)((0,a.Z)({ref:n},m),{},{className:o()(s,f)}))})}));p.displayName="CardHeader";var Z=p,j=["bsPrefix","className","bg","text","border","body","children","as"],x=(0,u.Z)("h5"),g=(0,u.Z)("h6"),y=(0,c.Z)("card-body"),N=(0,c.Z)("card-title",{Component:x}),C=(0,c.Z)("card-subtitle",{Component:g}),P=(0,c.Z)("card-link",{Component:"a"}),k=(0,c.Z)("card-text",{Component:"p"}),w=(0,c.Z)("card-footer"),S=(0,c.Z)("card-img-overlay"),_=i.forwardRef((function(e,n){var t=e.bsPrefix,s=e.className,i=e.bg,c=e.text,u=e.border,m=e.body,f=e.children,b=e.as,v=void 0===b?"div":b,h=(0,r.Z)(e,j),p=(0,l.vE)(t,"card");return(0,d.jsx)(v,(0,a.Z)((0,a.Z)({ref:n},h),{},{className:o()(s,p,i&&"bg-".concat(i),c&&"text-".concat(c),u&&"border-".concat(u)),children:m?(0,d.jsx)(y,{children:f}):f}))}));_.displayName="Card",_.defaultProps={body:!1};var B=Object.assign(_,{Img:b,Title:N,Subtitle:C,Body:y,Link:P,Text:k,Header:Z,Footer:w,ImgOverlay:S})},15614:function(e,n,t){var a=t(47313).createContext(null);a.displayName="CardHeaderContext",n.Z=a},28864:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(1413),r=t(45987),s=t(46123),o=t.n(s),i=/-(.)/g;var l=t(47313),c=t(68524),u=t(46417),d=["className","bsPrefix","as"],m=function(e){return e[0].toUpperCase()+(n=e,n.replace(i,(function(e,n){return n.toUpperCase()}))).slice(1);var n};function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.displayName,s=void 0===t?m(e):t,i=n.Component,f=n.defaultProps,b=l.forwardRef((function(n,t){var s=n.className,l=n.bsPrefix,m=n.as,f=void 0===m?i||"div":m,b=(0,r.Z)(n,d),v=(0,c.vE)(l,e);return(0,u.jsx)(f,(0,a.Z)({ref:t,className:o()(s,v)},b))}));return b.defaultProps=f,b.displayName=s,b}},96205:function(e,n,t){var a=t(1413),r=t(47313),s=t(46123),o=t.n(s),i=t(46417);n.Z=function(e){return r.forwardRef((function(n,t){return(0,i.jsx)("div",(0,a.Z)((0,a.Z)({},n),{},{ref:t,className:o()(n.className,e)}))}))}},21024:function(e){var n=function(){};e.exports=n},11752:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(61120);function r(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=(0,a.Z)(e)););return e}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var a=r(e,n);if(a){var s=Object.getOwnPropertyDescriptor(a,n);return s.get?s.get.call(arguments.length<3?e:t):s.value}},s.apply(this,arguments)}}}]);